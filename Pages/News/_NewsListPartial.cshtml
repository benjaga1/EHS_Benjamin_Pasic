@model List<EHS_Benjamin_Pasic.Models.NewsDto>

@if (Model == null || !Model.Any())
{
    <p>No news available.</p>
}
else
{
    foreach (var item in Model)
    {
        <div class="news-card-horizontal d-flex align-items-start mb-3 p-3 rounded shadow-sm">
            <img src="@(string.IsNullOrWhiteSpace(item.ImageUrl) ? "/images/default-news.jpeg" : item.ImageUrl)"
                 alt="@item.Title"
                 class="news-card-img"
                 onerror="this.onerror=null; this.src='/images/default-news.jpeg';" />

            <div class="news-card-text ms-3">
                <h3 class="news-card-title mb-1.5">@item.Title</h3>
                <p class="news-card-description mb-1">@item.Description</p>
                <a href="@item.SourceUrl" target="_blank" class="news-card-link">
                    Read more →
                </a>
            </div>

            <button class="save-btn @(item.IsSaved ? "saved" : "") ms-3"
                    title="Save"
                    data-article='@Html.Raw(System.Text.Json.JsonSerializer.Serialize(item))'
                    data-saved="@(item.IsSaved ? "true" : "false")">
                @(item.IsSaved ? "★" : "☆")
            </button>
        </div>

    }
}